{
  "version": 2,
  "buildCommand": "echo 'Node.js version:' && node -v && cd frontend && npm install --prefer-offline --no-audit --progress=false && npm run build",
  "outputDirectory": "frontend/build",
  "installCommand": "echo 'Skipping root install'",
  "framework": "create-react-app",

  "build": {
    "env": {
      "NODE_OPTIONS": "--max_old_space_size=8192 --no-warnings",
      "GENERATE_SOURCEMAP": "false",
      "DISABLE_ESLINT_PLUGIN": "true",
      "TSC_COMPILE_ON_ERROR": "true",
      "SKIP_PREFLIGHT_CHECK": "true",
      "FAST_REFRESH": "false",
      "DISABLE_NEW_JSX_TRANSFORM": "true",
      "CI": "false"
    }
  },

  "rewrites": [
    {
      "source": "/api/(.*)",
      "destination": "/api/$1"
    },
    {
      "source": "/(.*)",
      "destination": "/index.html"
    }
  ]
} 